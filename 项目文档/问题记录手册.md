# **问题记录手册**

### 前端

问题描述:网页跳转错误，具体表现为从主页无法跳转其他页面，以及页面之间来回跳转功能失效。

解决方式:排查router/index.js,发现是路径设置错误，混淆了path和name以及组件里面跳转的路径。经过修改后跳转正常。

---

问题描述:代码高亮以及行数显示问题，总是无法安装成功如highlight.js类似的实现功能的各种组件

解决方式:npm安装失败信息表明是vue版本问题，在之前的工作中在脚手架里混用了vue2和vue3，针对性地引入了不冲突的模板后解决。

---

问题描述:跟后端对接后发现网页跳转问题，具体表现为无法从登录界面跳转到注册界面

解决方式:排查文件中所有重定向的地方,发现是token问题，在permission里面设置白名单并将注册界面添加后解决。

---

问题描述:生成report时发现报告里表格数据总是为空，而数据导入没问题

解决方式:使用了延迟函数，在表格数据导入完成后再进入生成报告的过程（注：这一方法也解决了后续生成各种图的时候按钮需点击多次的问题）

---

问题描述:利用d3绘制有向图时发现显示界面总为空，控制台报错总显示“xx is not a function”

解决方法:查询资料得知d3库在更新v6时对部分api进行了规范，而此前的参考文档为v5的版本，将已被弃用的函数修改为可用版本后解决了问题。

---

问题描述:绘制CFG图时代码能够正常运行，但在容器内没有出现内容

解决方法：通过断点调试发现是d3.select()函数没有选择到所需的容器，改为按照class名选择容器后解决问题。

---

### 后端

问题描述：测试时JDI不能正常编译并运行文件

解决方法：由于对Java语言的不了解导致的文件路径设置错误，软件包虽然以文件夹形式存在，但在编译时应作为文件名的一部分，修改测试文件路径为正确值，与对接人员沟通好需要传输的数据中文件相关内容的格式。

---

问题描述：使用JDI需要添加com.sun依赖项，添加依赖需要通过系统路径添加JDK1.8中的tools.jar文件作为依赖，Java9及以上没有该文件，静态图生成使用的工具则需要Java11以上版本

初步解决方法：使用Java17版本，同时下载Java1.8的JDK，并通过相对路径找到tools.jar文件并添加依赖。

最新解决方法：使用com.perfma.wrapped添加依赖项

---

问题描述：动态切片算法不能够处理Break语句的依赖关系。

解决方法：添加对BreakStmt和ContinueStmt的特判。加入特判后由于原本使用的简化动态依赖图算法未考虑此两种关系，并不支持包含Break语句和Continue语句的动态依赖图简化，额外加入判断反而使时间复杂度过高，因此修改整体算法结构，将简化动态依赖图构建算法修改为完整动态依赖图构建算法。

---

问题描述：由switch语句测试中发现case语句未被记录，发现JDI不能记录标签类语句的执行记录。

解决方法：首先考察所有可能不被记录的标签语句，包括程序入口结点、case结点、空体for循环语句，从这些标签类语句控制的最近语句是否被执行来反向推断该标签类语句是否被执行，若被执行则在该最近语句之前添加到执行记录中。

---

问题描述：循环数据流方程时，遇到控制流图中有环的情况会死循环

解决方法：对控制流图的每个节点存储遍历的次数。对于何时停止遍历，由于图中所有节点的相关变量不再修改时，循环结束，因此认为对每个节点遍历的次数为节点入度的3倍即可。（对50行内的代码正确性无误，但无法判断是否正确，因此后续迭代时程序出现分支语句还会重新遍历，因此初始化时相关变量的结果不完全正确影响不大）

---

问题描述：合并后端三个人的工程后，程序编译报错

解决方法：首先统一编译的Java语言版本，项目起初规定使用JDK1.8作为编译版本，后续有人使用了需要更高版本语言的Java库，因此改变成Java17进行编译。其次，重写Maven中的pom文件，改成父子模块的方式，最后整体编译最外层模块的pom文件。

---

问题描述：静态切片中两种方法对break和continue的处理均有误。

问题原因：控制流程图中break和continue对其跳过的语句没有控制依赖关系

参考文献：*Thomas Ball and Susan Horwitz. 1993. Slicing Programs with Arbitrary Control-flow. In Proceedings of the First International Workshop on Automated and Algorithmic Debugging (AADEBUG '93). Springer-Verlag, Berlin, Heidelberg, 206–222.*

解决方法：构造ACFG图，即增加break和continue到程序控制流指向下一个节点，即一条假的控制流边，再据此生成程序依赖图，即可得到正确的控制依赖关系，两种切片均可显示正确结果。

---

问题描述：对出现负号的等式切片结果有误。

解决方法：发现景雅在实现对每个结点生成use和def变量时出错，ASSIGNEXP里没有具体考虑符号，这里+=、-=应当特殊考虑。

---

### 前后端对接

问题描述：前端使用url的参数传递函数名，后端显示找不到该函数

问题原因：函数名包含（、{等符号，springboot无法正确解析该符号，因此传递的函数名无法全部获得

解决方法：将get方式url传参改成发送post请求，使用payload方式传递，这样后端使用RequestBody可以正确解析。

---

问题描述：用户管理增加JWT进行认证后无法正常访问

解决方法：前端发送的每个请求都要封装登录时出传入的token值，后端每个过滤器会先进行token值的解析，判断是否超时。返回超时结果后，前端应当正确跳转到首页。

---



